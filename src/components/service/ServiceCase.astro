---
const {
  title,
  location,
  snapshot,
  goals = [],
  discovery = [],
  solution = [],
  results = [],
  feedback,
} = Astro.props;

if (!title || !snapshot || !feedback) {
  throw new Error('ServiceCase requires `title`, `snapshot`, and `feedback` props.');
}
---

<article class="rounded-3xl border border-slate-200 bg-white p-8 shadow-sm space-y-8">
  <header class="space-y-1">
    <h3 class="text-2xl font-semibold text-slate-900">{title}</h3>
    {location && <p class="text-sm font-semibold uppercase tracking-wide text-sky-700">{location}</p>}
  </header>

  <section class="space-y-3">
    <h4 class="text-lg font-semibold text-slate-900">Client snapshot</h4>
    <p class="text-base text-slate-700">{snapshot}</p>
  </section>

  {goals.length > 0 && (
    <section class="space-y-3">
      <h4 class="text-lg font-semibold text-slate-900">Primary goals</h4>
      <ul class="space-y-2 text-base text-slate-700">
        {goals.map((goal) => (
          <li key={goal}>• {goal}</li>
        ))}
      </ul>
    </section>
  )}

  {discovery.length > 0 && (
    <section class="space-y-3">
      <h4 class="text-lg font-semibold text-slate-900">What we discovered</h4>
      <ul class="space-y-2 text-base text-slate-700">
        {discovery.map((item) => (
          <li key={item}>• {item}</li>
        ))}
      </ul>
    </section>
  )}

  {solution.length > 0 && (
    <section class="space-y-3">
      <h4 class="text-lg font-semibold text-slate-900">Our solution</h4>
      <ul class="space-y-2 text-base text-slate-700">
        {solution.map((item) => (
          <li key={item}>• {item}</li>
        ))}
      </ul>
    </section>
  )}

  {results.length > 0 && (
    <section class="space-y-3">
      <h4 class="text-lg font-semibold text-slate-900">Results delivered</h4>
      <ul class="space-y-2 text-base text-slate-700">
        {results.map((item) => (
          <li key={item}>• {item}</li>
        ))}
      </ul>
    </section>
  )}

  <section class="space-y-2 border-l-4 border-sky-600 pl-4">
    <h4 class="text-lg font-semibold text-slate-900">Client feedback</h4>
    <p class="text-base italic text-slate-700">“{feedback}”</p>
  </section>
</article>
